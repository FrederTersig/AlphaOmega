<#include "header.html">
	<!--	dettagliPubblicazione.html == AvrÃ  la lista di tutte le informazioni relative all'opera salvata in DB e si avrÃ  la possibilitÃ 
			di modificarle. Oltre ciÃ² ci saranno dei bottoni di modifica per gli utenti attivi e l'admin -->
	<body class="bg-primary">
		<h1> ${Pubblicazione.getTitolo()} </h1>

		<div class="container">
			<div class="columns col-gapless">
				<div class="column col-4">
					<div class="text-left">
						<p><div class="text-bold">Data pubblicazione:</div>${Pubblicazione.getDataCreazione()]</p>
						<p><div class="text-bold">Autore:</div>${Pubblicazione.showAutori()}</p>
						<p><div class="text-bold">Editore:</div>${Pubblicazione.getEditore()}</p>
						
						
					</div>
				</div>
				<div class="column col-4">
					<div class="text-left">					
						<p><div class="text-bold">Lingua:</div>${Pubblicazione.getLingua()}</p>
						<p><div class="text-bold">Codice ISBN:</div>${Pubblicazione.getCodiceISBN()}</p>
						<p><div class="text-bold">Numero delle pagine:</div> ${Pubblicazione.getNumPagine()} </p>
						
					</div>
				</div>	
				<div class="column col-4">
					<div class="text-left">					
						<p><div class="text-bold">Tags:</div>${Pubblicazione.showTags()}</p>
						<p><div class="text-bold">Data di inserimento:</div>${Pubblicazione.getDataInserimento()}</p>
						<p><div class="text-bold">Inserito da:</div> Query per dettagli </p>
					</div>
				</div>	
				
			</div>
			<div class="columns col-gapless">
				<div class="col-12">
					<p><div class="text-bold">Descrizione: </div> 
					${Pubblicazione.getDescrizione()}</p>
				</div>
			</div>
			<br>
			
			<div class="columns col-gapless">
				
					<#if utente??>
						<#if ruolo == 0>
							<div class="col-4">
								<a class="btn show-modal col-mx-auto" href="#listaCapitoli"><b>Lista Capitoli</b></a>
							</div>
							<div class="col-4">
								<a class="btn show-modal col-mx-auto" href="#listaRistampe"><b>Lista Ristampe</b></a>
							</div>
							<div class="col-4">
								<a class="btn show-modal col-mx-auto" href="#listaSorgenti"><b>Lista Sorgenti</b></a>
							</div>
						<#else>
							<div class="col-4">
								<a class="btn show-modal col-mx-auto" href="#inviaCapitoli"><b>Gestisci Capitoli</b></a>
							</div>
							<div class="col-4">
								<a class="btn show-modal col-mx-auto" href="#inviaRistampe"><b>Gestisci Ristampa</b></a>
							</div>
							<div class="col-4">
								<a class="btn show-modal col-mx-auto" href="#inviaSorgenti"><b>Gestisci Sorgenti</b></a>
							</div>
						</#if>
					</#if>
			</div>
			
			<!--  SE è un utente normale visualizza questi modal -->
				<!--  PARTE DEL CAPITOLO -->
			<#if utente??>
				<#if ruolo == 0>
				
					<div id="listaCapitoli" class="modal modal-lg">
						<div class="modal-overlay"></div>
						<div class="modal-container">
							<div class="modal-header">
								<a href="#close" class="btn btn-clear float-right close-modal"></a>
								<div class="modal-title">Lista dei capitoli</div>
							</div>
							<div class="modal-body">
								<div class="content">
									<div class="form-group">
										<#if listaCapitoli ??>
											<#list listaCapitoli as Capitolo>
												<div class="text-dark">
													<b>${Capitolo.getNumero()}</b> - ${Capitolo.getTitolo()} - Inizio a pagina ${Capitolo.getPagInizio()} 
												</div>
												<br>
											</#list>
									</#if>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#close" class="btn btn-primary close-modal">Close</a>
							</div>
						</div>
					</div>
					
					<div id="listaRistampe" class="modal modal-lg">
						<div class="modal-overlay"></div>
						<div class="modal-container">
							<div class="modal-header">
								<a href="#close" class="btn btn-clear float-right close-modal"></a>
								<div class="modal-title">Lista delle Ristampe</div>
							</div>
							<div class="modal-body">
								<div class="content">
									<div class="form-group">
										<#if listaRistampe ??>
											<#list listaRistampe as Ristampa>
												<div class="text-dark">
													<b>${Capitolo.getNumero()}</b> - ${Capitolo.getTitolo()} - Inizio a pagina ${Capitolo.getPagInizio()} 
												</div>
												<br>
											</#list>
									</#if>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#close" class="btn btn-primary close-modal">Close</a>
							</div>
						</div>
					</div>
					
					<div id="listaCSorgenti" class="modal modal-lg">
						<div class="modal-overlay"></div>
						<div class="modal-container">
							<div class="modal-header">
								<a href="#close" class="btn btn-clear float-right close-modal"></a>
								<div class="modal-title">Lista delle sorgenti</div>
							</div>
							<div class="modal-body">
								<div class="content">
									<div class="form-group">
										<#if listaSorgenti ??>
											<#list listaSorgenti as Sorgente>
												<div class="text-dark">
													<b>${Capitolo.getNumero()}</b> - ${Capitolo.getTitolo()} - Inizio a pagina ${Capitolo.getPagInizio()} 
												</div>
												<br>
											</#list>
									</#if>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#close" class="btn btn-primary close-modal">Close</a>
							</div>
						</div>
					</div>
				<#else>
					<!-- Se è un utente ATTIVO/ADMIN/MOD visualizza questi modal -->
					<div id="inviaCapitoli" class="modal modal-lg">
						<div class="modal-overlay"></div>
						<div class="modal-container">
							<div class="modal-header">
								<a href="#close" class="btn btn-clear float-right close-modal"></a>
								<div class="modal-title"><b>Gestisci capitoli</b></div>
							</div>
							<div class="modal-body">
								<div class="content">
									<form class="form-horizontal" method="post" role="form">
										<div class="form-group">
											<div class="columns col-gapless">
												<div class="col-4">
													<input class="form-input" type="text" name="titolo" placeholder="titolo" required>
												</div>
												<div class="col-4">
													<input class="form-input" type="text" name="numero" placeholder="numero" required>
												</div>
												<div class="col-4">
													<input class="form-input" type="number" name="pagInizio" placeholder="Pagina Inizio" required>
												</div>
												
											</div>
										</div>
										<button type="submit" class="btn p-centered text-bold" id="invioCapitolo" name="value" value="invioCapitolo" required>Crea Capitolo</button>
									</form>
									<!-- Visualizza la lista dei capitoli -->
									<br>
									<#if listaCapitoli ??>
										<#list listaCapitoli as Capitolo>
											<div class="text-dark">
												<b>${Capitolo.getNumero()}</b> - ${Capitolo.getTitolo()} - Inizio a pagina ${Capitolo.getPagInizio()} 
											</div>
											<br>
										</#list>
									</#if>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#close" class="btn btn-primary close-modal">Close</a>
							</div>
						</div>
					</div>
						
					<div id="inviaRistampe" class="modal modal-lg">
							<div class="modal-overlay"></div>
							<div class="modal-container">
								<div class="modal-header">
									<a href="#close" class="btn btn-clear float-right close-modal"></a>
									<div class="modal-title"><b>Gestisci ristampe</b></div>
								</div>
								<div class="modal-body">
									<div class="content">
										<form class="form-horizontal" method="post" role="form">
											<div class="form-group">
												<div class="columns col-gapless">
													<div class="col-4">
														<input class="form-input" type="text" name="titolo" placeholder="titolo" required>
													</div>
													<div class="col-4">
														<input class="form-input" type="text" name="numero" placeholder="numero" required>
													</div>
													<div class="col-4">
														<input class="form-input" type="number" name="pagInizio" placeholder="Pagina Inizio" required>
													</div>
													
												</div>
											</div>
											<button type="submit" class="btn p-centered text-bold" id="invioCapitolo" name="value" value="invioCapitolo" required>Crea Ristampa</button>
										</form>
										<!-- Visualizza la lista dei capitoli -->
										<br>
										<#if listaRistampe ??>
											<#list listaRistampe as Ristampa>
												<div class="text-dark">
													<b>${Capitolo.getNumero()}</b> - ${Capitolo.getTitolo()} - Inizio a pagina ${Capitolo.getPagInizio()} 
												</div>
												<br>
											</#list>
										</#if>
									</div>
								</div>
								<div class="modal-footer">
									<a href="#close" class="btn btn-primary close-modal">Close</a>
								</div>
							</div>
					</div>
					
					<div id="inviaSorgenti" class="modal modal-lg">
							<div class="modal-overlay"></div>
							<div class="modal-container">
								<div class="modal-header">
									<a href="#close" class="btn btn-clear float-right close-modal"></a>
									<div class="modal-title"><b>Gestisci sorgenti</b></div>
								</div>
								<div class="modal-body">
									<div class="content">
										<form class="form-horizontal" method="post" role="form">
											<div class="form-group">
												<div class="columns col-gapless">
													<div class="col-4">
														<input class="form-input" type="text" name="titolo" placeholder="titolo" required>
													</div>
													<div class="col-4">
														<input class="form-input" type="text" name="numero" placeholder="numero" required>
													</div>
													<div class="col-4">
														<input class="form-input" type="number" name="pagInizio" placeholder="Pagina Inizio" required>
													</div>
													
												</div>
											</div>
											<button type="submit" class="btn p-centered text-bold" id="invioCapitolo" name="value" value="invioCapitolo" required>Crea Sorgenti</button>
										</form>
										<!-- Visualizza la lista dei capitoli -->
										<br>
										<#if listaSorgenti ??>
											<#list listaSorgenti as Sorgente>
												<div class="text-dark">
													<b>${Capitolo.getNumero()}</b> - ${Capitolo.getTitolo()} - Inizio a pagina ${Capitolo.getPagInizio()} 
												</div>
												<br>
											</#list>
										</#if>
									</div>
								</div>
								<div class="modal-footer">
									<a href="#close" class="btn btn-primary close-modal">Close</a>
								</div>
							</div>
					</div>
					<!--  FINE MODAL -->
					
				</#if>
			</#if>
			
			
		
			
			<!-- Lista delle pubblicazioni degli stessi autori!! -->
			<br>
			<br>
			<div class="columns col-gapless">
				<div class="col-12 text-bold">
					<p>Lista delle pubblicazioni che hanno gli stessi autori:</p>
				</div>
			</div>
			<br>
			
			
			<!--  Lista Pubblicazioni Simili  -->
			<div class="columns col-gapless text-center">
				<div class="col-3">
					<p>Pubblicazione 1</p>
					<button class="btn">default button</button>
				</div>
				<div class="col-3">
					<p>Pubblicazione 2</p>
					<button class="btn">default button</button>
				</div>
				<div class="col-3">
					<p>Pubblicazione 3</p>
					<button class="btn">default button</button>
				</div>
				<div class="col-3">
					<p>Pubblicazione 4</p>
					<button class="btn">default button</button>
				</div>
			</div>
		</div>
	</body>
<#include "footer.html">